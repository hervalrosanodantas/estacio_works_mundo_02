{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../controle-editora.service\";\nimport * as i2 from \"../controle-livros.service\";\nimport * as i3 from \"@angular/common\";\nfunction LivroListaComponent_tr_15_li_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const autor_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(autor_r3);\n  }\n}\nfunction LivroListaComponent_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function LivroListaComponent_tr_15_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const livro_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.excluir(livro_r1.codigo));\n    });\n    i0.ɵɵtext(5, \"Excluir\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"ul\");\n    i0.ɵɵtemplate(12, LivroListaComponent_tr_15_li_12_Template, 2, 1, \"li\", 4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const livro_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(livro_r1.titulo);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(livro_r1.resumo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.obterNome(livro_r1.codEditora));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", livro_r1.autores);\n  }\n}\nexport class LivroListaComponent {\n  constructor(servEditora, servLivros) {\n    this.servEditora = servEditora;\n    this.servLivros = servLivros;\n    this.editoras = [];\n    this.livros = [];\n    this.excluir = codigo => {\n      this.servLivros.excluir(codigo);\n      this.livros = this.servLivros.obterLivros();\n    };\n    this.obterNome = codEditora => {\n      const codigoNumerico = parseInt(codEditora);\n      return this.servEditora.getNomeEditora(codigoNumerico);\n    };\n  }\n  ngOnInit() {\n    this.editoras = this.servEditora.getEditoras();\n    this.livros = this.servLivros.obterLivros();\n  }\n}\nLivroListaComponent.ɵfac = function LivroListaComponent_Factory(t) {\n  return new (t || LivroListaComponent)(i0.ɵɵdirectiveInject(i1.ControleEditoraService), i0.ɵɵdirectiveInject(i2.ControleLivrosService));\n};\nLivroListaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LivroListaComponent,\n  selectors: [[\"app-livro-lista\"]],\n  decls: 16,\n  vars: 1,\n  consts: [[1, \"container\"], [1, \"mb-4\"], [1, \"table\", \"table-hover\"], [1, \"table-dark\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function LivroListaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"main\", 0)(1, \"h1\", 1);\n      i0.ɵɵtext(2, \"Cat\\u00E1logo de Livros\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"table\", 2)(4, \"thead\", 3)(5, \"tr\")(6, \"th\");\n      i0.ɵɵtext(7, \"T\\u00EDtulo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"th\");\n      i0.ɵɵtext(9, \"Resumo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Editora\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Autores\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(14, \"tbody\");\n      i0.ɵɵtemplate(15, LivroListaComponent_tr_15_Template, 13, 4, \"tr\", 4);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.livros);\n    }\n  },\n  dependencies: [i3.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAqBUA,0BAAwC;IAAAA,YAAW;IAAAA,iBAAK;;;;IAAhBA,eAAW;IAAXA,8BAAW;;;;;;IATzDA,0BAAiC;IAE1BA,YAAgB;IAAAA,iBAAI;IACvBA,iCAA+D;IAAhCA;MAAA;MAAA;MAAA;MAAA,OAASA,8CAAqB;IAAA,EAAC;IAACA,uBAAO;IAAAA,iBAAS;IAEjFA,0BAAI;IAAAA,YAAgB;IAAAA,iBAAK;IACzBA,0BAAI;IAAAA,YAA+B;IAAAA,iBAAK;IACxCA,2BAAI;IAEAA,0EAAwD;IAC1DA,iBAAK;;;;;IARFA,eAAgB;IAAhBA,qCAAgB;IAGjBA,eAAgB;IAAhBA,qCAAgB;IAChBA,eAA+B;IAA/BA,2DAA+B;IAGTA,eAAgB;IAAhBA,0CAAgB;;;ACVhD,OAAM,MAAOC,mBAAmB;EAI9BC,YACUC,WAAmC,EACnCC,UAAiC;IADjC,gBAAW,GAAXD,WAAW;IACX,eAAU,GAAVC,UAAU;IALb,aAAQ,GAAmB,EAAE;IAC7B,WAAM,GAAiB,EAAE;IAYhC,YAAO,GAAIC,MAAc,IAAI;MAC3B,IAAI,CAACD,UAAU,CAACE,OAAO,CAACD,MAAM,CAAC;MAC/B,IAAI,CAACE,MAAM,GAAG,IAAI,CAACH,UAAU,CAACI,WAAW,EAAE;IAC7C,CAAC;IAED,cAAS,GAAIC,UAAkB,IAAY;MACzC,MAAMC,cAAc,GAAGC,QAAQ,CAACF,UAAU,CAAC;MAC3C,OAAO,IAAI,CAACN,WAAW,CAACS,cAAc,CAACF,cAAc,CAAC;IACxD,CAAC;EAdD;EACAG,QAAQ;IACN,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACX,WAAW,CAACY,WAAW,EAAE;IAC9C,IAAI,CAACR,MAAM,GAAG,IAAI,CAACH,UAAU,CAACI,WAAW,EAAE;EAC7C;;AAZWP,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAAe;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDXhCpB,+BAAwB;MACLA,uCAAkB;MAAAA,iBAAK;MACxCA,gCAAiC;MAGzBA,2BAAM;MAAAA,iBAAK;MACfA,0BAAI;MAAAA,sBAAM;MAAAA,iBAAK;MACfA,2BAAI;MAAAA,wBAAO;MAAAA,iBAAK;MAChBA,2BAAI;MAAAA,wBAAO;MAAAA,iBAAK;MAGlBA,8BAAO;MACPA,qEAYK;MACLA,iBAAQ;;;MAbcA,gBAAS;MAATA,oCAAS","names":["i0","LivroListaComponent","constructor","servEditora","servLivros","codigo","excluir","livros","obterLivros","codEditora","codigoNumerico","parseInt","getNomeEditora","ngOnInit","editoras","getEditoras","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\faculdade_estacio_de_sa\\trabalhos_faculdade\\mundo_02\\missao_pratica_04\\src\\app\\livro-lista\\livro-lista.component.html","E:\\faculdade_estacio_de_sa\\trabalhos_faculdade\\mundo_02\\missao_pratica_04\\src\\app\\livro-lista\\livro-lista.component.ts"],"sourcesContent":["<main class=\"container\">\n  <h1 class=\"mb-4\">Catálogo de Livros</h1>\n  <table class=\"table table-hover\">\n    <thead class=\"table-dark\">\n    <tr>\n      <th>Título</th>\n      <th>Resumo</th>\n      <th>Editora</th>\n      <th>Autores</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr *ngFor=\"let livro of livros\">\n      <td>\n        <p>{{livro.titulo}}</p>\n        <button class=\"btn btn-danger\" (click)=\"excluir(livro.codigo)\">Excluir</button>\n      </td>\n      <td>{{livro.resumo}}</td>\n      <td>{{obterNome(livro.codEditora)}}</td>\n      <td>\n        <ul>\n          <li *ngFor=\"let autor of livro.autores\">{{ autor }}</li>\n        </ul>\n      </td>\n    </tr>\n    </tbody>\n  </table>\n</main>\n","import {Component, OnInit} from '@angular/core';\nimport { Editora } from \"../editora\";\nimport { Livro } from \"../livro\";\nimport { ControleEditoraService } from '../controle-editora.service';\nimport { ControleLivrosService } from '../controle-livros.service';\n\n@Component({\n  selector: 'app-livro-lista',\n  templateUrl: './livro-lista.component.html',\n  styleUrls: ['./livro-lista.component.css']\n})\nexport class LivroListaComponent implements OnInit {\n  public editoras: Array<Editora> = [];\n  public livros: Array<Livro> = [];\n\n  constructor(\n    private servEditora: ControleEditoraService,\n    private servLivros: ControleLivrosService\n  ) {\n  }\n  ngOnInit(): void {\n    this.editoras = this.servEditora.getEditoras();\n    this.livros = this.servLivros.obterLivros();\n  }\n\n  excluir = (codigo: number) => {\n    this.servLivros.excluir(codigo);\n    this.livros = this.servLivros.obterLivros();\n  }\n\n  obterNome = (codEditora: string): string => {\n    const codigoNumerico = parseInt(codEditora);\n    return this.servEditora.getNomeEditora(codigoNumerico);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}